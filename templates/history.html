{% extends "base.html" %}

{% block title %}Session History - Pomodoro Timer{% endblock %}

{% block content %}
<div class="history-container">
    <div class="history-header">
        <h1>Session History</h1>
        <div class="history-controls">
            <select id="dateFilter" class="filter-select">
                <option value="today">Today</option>
                <option value="week">This Week</option>
                <option value="month">This Month</option>
                <option value="all">All Time</option>
            </select>
            <button class="btn btn-outline" id="exportBtn">Export</button>
        </div>
    </div>
    
    <!-- Statistics Dashboard -->
    <div class="stats-dashboard">
        <div class="stat-card">
            <div class="stat-title">Total Sessions</div>
            <div class="stat-value" id="totalSessions">0</div>
        </div>
        <div class="stat-card">
            <div class="stat-title">Completed</div>
            <div class="stat-value" id="completedSessions">0</div>
        </div>
        <div class="stat-card">
            <div class="stat-title">Focus Time</div>
            <div class="stat-value" id="totalFocusTime">0h 0m</div>
        </div>
        <div class="stat-card">
            <div class="stat-title">Completion Rate</div>
            <div class="stat-value" id="completionRate">0%</div>
        </div>
    </div>
    
    <!-- Session List -->
    <div class="session-list">
        <div class="session-list-header">
            <h2>Recent Sessions</h2>
        </div>
        <div class="session-items" id="sessionItems">
            <!-- Sessions will be loaded here by JavaScript -->
            <div class="empty-state" id="emptyState">
                <p>No sessions found. Start your first Pomodoro!</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // API endpoints
    window.API_ENDPOINTS = {
        sessions: '/api/sessions',
        stats: '/api/stats'
    };
</script>
<script src="{{ url_for('static', filename='js/storage.js') }}"></script>
<script src="{{ url_for('static', filename='js/history.js') }}"></script>
{% endblock %}